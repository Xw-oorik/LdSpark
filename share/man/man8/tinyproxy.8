.\" Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "TINYPROXY 8"
.TH TINYPROXY 8 "2024-05-13" "Version 1.11.0-rc1-82-git-dd49e97" "Tinyproxy manual"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
tinyproxy \- A light\-weight HTTP proxy daemon
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBtinyproxy\fR [\-vdch]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBtinyproxy\fR is a light-weight \s-1HTTP\s0 proxy daemon designed to consume a
minimum amount of system resources. It listens on a given \s-1TCP\s0 port and
handles \s-1HTTP\s0 proxy requests. Designed from the ground up to be fast and
yet small, it is an ideal solution for use cases such as embedded
deployments where a full featured \s-1HTTP\s0 proxy is required, but the system
resources for a larger proxy are unavailable.
.SH "OPTIONS"
.IX Header "OPTIONS"
\&\fBtinyproxy\fR accepts the following options:
.IP "\fB\-c <config\-file\fR>" 4
.IX Item "-c <config-file>"
Use an alternate configuration file.
.IP "\fB\-d\fR" 4
.IX Item "-d"
Don't daemonize and stay in the foreground. Useful for debugging purposes.
.IP "\fB\-h\fR" 4
.IX Item "-h"
Display a short help screen of command line arguments and exit.
.IP "\fB\-v\fR" 4
.IX Item "-v"
Display version information and exit.
.SH "SIGNALS"
.IX Header "SIGNALS"
In addition to command-line options, there are also several signals that
can be sent to \fBtinyproxy\fR while it is running to generate debugging
information and to force certain events.
.IP "\fB\s-1SIGHUP\s0\fR" 4
.IX Item "SIGHUP"
Force Tinyproxy to do a garbage collection on the current
connections linked list. This is usually done automatically after a
certain number of connections have been handled.
(Daemon mode only)
.IP "\fB\s-1SIGUSR1\s0\fR" 4
.IX Item "SIGUSR1"
Force reload of config file and filter list.
This is handy to update the configuration if Tinyproxy is running
in foreground without dropping active connections.
.SH "TEMPLATE FILES"
.IX Header "TEMPLATE FILES"
There are two occasions when Tinyproxy delivers \s-1HTML\s0 pages to
the client on it's own right:
.IP "\(bu" 4
When an error occurred, a corresponding error page is returned.
.IP "\(bu" 4
When a request for the stathost is made, a page summarizing the
connection statistics is returned. (See \s-1STATHOST\s0 below.)
.PP
The layout of both error pages and the statistics page can be
controlled via configurable \s-1HTML\s0 template files that are plain
\&\s-1HTML\s0 files that additionally understand a few template
variables.
.SH "TEMPLATE VARIABLES"
.IX Header "TEMPLATE VARIABLES"
There are several standard \s-1HTML\s0 variables that are available in every
template file:
.IP "\fBrequest\fR" 4
.IX Item "request"
The full \s-1HTTP\s0 request line.
.IP "\fBcause\fR" 4
.IX Item "cause"
The abbreviated cause of the error condition.
.IP "\fBclientip\fR" 4
.IX Item "clientip"
The \s-1IP\s0 address of the client making the request.
.IP "\fBclienthost\fR" 4
.IX Item "clienthost"
The hostname of the client making the request.
.IP "\fBversion\fR" 4
.IX Item "version"
The version of Tinyproxy.
.IP "\fBpackage\fR" 4
.IX Item "package"
The package name. Presently, resolves to 'tinyproxy'.
.IP "\fBdate\fR" 4
.IX Item "date"
The current date/time in \s-1HTTP\s0 format.
.PP
In addition, almost all templates support:
.IP "\fBdetail\fR" 4
.IX Item "detail"
A detailed, plain English explanation of the error and possible
causes.
.PP
When Tinyproxy finds a variable name enclosed in braces, e.g.
\&\*(L"{request}\*(R", then this is replaced by the value of the corresponding
variable before delivery of the page.
.SH "STATHOST"
.IX Header "STATHOST"
Tinyproxy returns a \s-1HTML\s0 page with connection statistics when it
receives a \s-1HTTP\s0 request for a certain host \*(-- the stathost.  The
stathost name defaults to `tinyproxy.stats` and can be changed at
runtime to any name or \s-1IP\s0 address with the configuration variable
`StatHost`.
.PP
The stat file template can be changed at runtime through the
configuration variable `StatFile`.
.SH "FILES"
.IX Header "FILES"
`/etc/tinyproxy/tinyproxy.conf`, `/var/run/tinyproxy/tinyproxy.pid`, `/var/log/tinyproxy/tinyproxy.log`
.SH "BUGS"
.IX Header "BUGS"
To report bugs in Tinyproxy, please visit
<https://tinyproxy.github.io/>.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBtinyproxy.conf\fR\|(5)
.SH "AUTHOR"
.IX Header "AUTHOR"
This manpage was written by the Tinyproxy project team.
.SH "COPYRIGHT"
.IX Header "COPYRIGHT"
Copyright (c) 1998\-2020 the Tinyproxy authors.
.PP
This program is distributed under the terms of the \s-1GNU\s0 General Public
License version 2 or above. See the \s-1COPYING\s0 file for additional
information.
